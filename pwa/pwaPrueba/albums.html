<!DOCTYPE html>
<html lang="en">
<head>

  <meta name="theme-color" content="#2196F3"/>

<meta name = "Description" content = "autor:Rodrigo Molina   Este es el documento de ambumes de una pagina de prueba que forma parte de mi PPS" > 
  <link rel="icon" type="image/png" sizes="16x16" href="icons/images.png" disable async>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="manifest" href="manifest.json" async>
  <link rel="icon" type="image/png" sizes="16x16" href="icons/images.png" async>
	<title>Albumes</title>
	<link rel="stylesheet" type="text/css" href="styles/stylesheet.css" media="all" disable async>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

 

  <script type="text/javascript" src="init.js" defer async></script>

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Weather PWA">
  <link rel="apple-touch-icon" href="images/icons/icon-152x152.png" async>

  <meta name="msapplication-TileImage" content="images/icons/icon-144x144.png">
  <meta name="msapplication-TileColor" content="#2F3BA2">


</head>
<body>
<img alt= "jobbier" src="icons/1.svg">

<ul class="topnav">
  <li><a class="active" href="index.html">-- Posts --</a></li>
  <li><a  href="users.html">-- Usuarios --</a></li>
</ul>


<h1>Elige un album</h1>
<container class="" id = "cont">
</container>

<div class = "cont" id = "mi_div">
	
</div>

<script defer async>
	
	fetch('https://jsonplaceholder.typicode.com/albums')
        .then( function(response ){
          return response.json();
        }).then(function (json){
          for (var i = 0; i < json.length; i++) {
         
              
            document.getElementById('cont').innerHTML += "<h3><a onclick = 'showAlbum("+ json[i].id +")'>"+ json[i].title + "</a></h3></br>" ;
        } 
     });

        function showAlbum(id){

        	fetch('https://jsonplaceholder.typicode.com/albums/'+id ).then(function(albums){
        		return albums.json();
        	}).then(function(album){

        		document.getElementById('cont').innerHTML = "<div ><h1>"+ album.title + "</h1></div></n>" ;	
        	});

        	fetch('https://jsonplaceholder.typicode.com/photos').then(function(response){
        		return response.json();
        	}).then(function(fotos){

 

        		for (var i = 0; i < fotos.length; i++) {

        			if (fotos[i].albumId == id) {
        				document.getElementById('mi_div').innerHTML += "<h3>" + fotos[i].title + "</h3>";
        				document.getElementById('mi_div').innerHTML += "<a href = '" + fotos[i].url + "'><img alt = 'imagen"+ fotos[i].id +"'src = 'https://www." + fotos[i].thumbnailUrl.substring(7,fotos[i].thumbnailUrl.length) + "'></a>";
        			}
        			 
        		}
        	});

        }
</script>

</body>
</html>